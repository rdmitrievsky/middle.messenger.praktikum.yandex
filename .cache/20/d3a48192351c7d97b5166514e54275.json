{"id":"core/registerComponent.ts","dependencies":[{"name":"C:\\WebDesign\\Projects\\middle.messenger.praktikum.yandex\\tsconfig.json","includedInParent":true,"mtime":1649596785868},{"name":"C:\\WebDesign\\Projects\\middle.messenger.praktikum.yandex\\package.json","includedInParent":true,"mtime":1649603047926},{"name":"handlebars","loc":{"line":17,"column":45,"index":768},"parent":"C:\\WebDesign\\Projects\\middle.messenger.praktikum.yandex\\src\\core\\registerComponent.ts","resolved":"C:\\WebDesign\\Projects\\middle.messenger.praktikum.yandex\\node_modules\\handlebars\\lib\\index.js"}],"generated":{"js":"\"use strict\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar handlebars_1 = __importDefault(require(\"handlebars\"));\n\nfunction registerComponent(Component) {\n  handlebars_1.default.registerHelper(Component.name, function (_a) {\n    var _this = this;\n\n    var _b = _a.hash,\n        ref = _b.ref,\n        hash = __rest(_b, [\"ref\"]),\n        data = _a.data,\n        fn = _a.fn;\n\n    if (!data.root.children) {\n      data.root.children = {};\n    }\n\n    if (!data.root.refs) {\n      data.root.refs = {};\n    }\n\n    var _data$root = data.root,\n        children = _data$root.children,\n        refs = _data$root.refs;\n    /**\r\n     * Костыль для того, чтобы передавать переменные\r\n     * внутрь блоков вручную подменяя значение\r\n     */\n\n    Object.keys(hash).forEach(function (key) {\n      if (_this[key]) {\n        hash[key] = hash[key].replace(new RegExp(\"{{\".concat(key, \"}}\"), 'i'), _this[key]);\n      }\n    });\n    var component = new Component(hash);\n    children[component.id] = component;\n\n    if (ref) {\n      refs[ref] = component.getContent();\n    }\n\n    var contents = fn ? fn(this) : '';\n    return \"<div data-id=\\\"\".concat(component.id, \"\\\">\").concat(contents, \"</div>\");\n  });\n}\n\nexports.default = registerComponent;"},"sourceMaps":null,"error":null,"hash":"3d340f00196d34e86e535d978ae686f2","cacheData":{"env":{}}}